- step:
    name: step-io
    image: python
    command:
    - pip install -r requirements.txt
    - python ./io_files.py {parameters}
    parameters:
    - name: param_1
      default: 1
      multiple-separator: ','
      optional: true
      type: integer
    inputs:
      - name: input_1
        optional: true

- pipeline:
    name: file-pipeline
    nodes:
      - name: node-split
        type: execution
        step: step-io
      - name: node-process
        type: task
        step: step-io
      - name: node-merge
        type: execution
        step: step-io
    edges:
      - [node-split.output.output_1/*, node-process.input.input_1]
      - [node-process.output.output_1/*, node-merge.input.input_1]
