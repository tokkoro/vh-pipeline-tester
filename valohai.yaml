- step:
    name: train_step
    image: python:3.10
    command:
      - pip install valohai-utils
      - python ./a.py {parameters}
    parameters:
      - name: exec_id
        type: string
        description: "Exec id is such important parameter."
      - name: other_param
        type: integer
        default: 5

- pipeline:
    name: Example Pipeline with Task Parameters
    parameters:
      - name: id
        targets:
          - train.parameters.exec_id
          - train_parallel.parameters.exec_id
      - name: welcome_message
        targets:
          - train.parameters.other_param
        default: 3
      - name: task_param
        target: train_in_task.parameters.other_param
        default: 1337
    nodes:
      - name: train
        step: train_step
        type: execution
      - name: train_parallel
        step: train_step
        type: execution
      - name: train_in_task
        step: train_step
        type: task
    edges: [ ]
