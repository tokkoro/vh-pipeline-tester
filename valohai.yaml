- step:
    name: step-a
    image: python
    command:
    - pip install -r requirements.txt
    - python ./a.py {parameters}
    parameters:
    - name: exec_id
      default: 1
      multiple-separator: ','
      optional: true
      type: integer

- step:
    name: step-missing
    image: python
    command:
    - pip install -r requirements.txt
    - python ./a.py {parameters}
    parameters:
    - name: exec_id
      default: 1
      multiple-separator: ','
      optional: true
      type: integer
    - name: missing_optional_param
      optional: true
      type: integer

- pipeline:
    name: param-pipeline
    nodes:
      - name: node-a
        type: execution
        step: step-a
        on-error: "continue"
      - name: node-b
        type: task
        step: step-a
        on-error: "continue"
      - name: node-with-empty
        type: task
        step: step-missing
        on-error: "continue"
    edges:
      - [node-a.metadata.next_ids, node-b.parameter.exec_id]
      - [node-a.metadata.next_ids, node-with-empty.parameter.exec_id]
